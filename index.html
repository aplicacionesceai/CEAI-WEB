<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CEAI - √Årea de Innovaci√≥n y Competitividad</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- ‚úÖ SWIPER CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    
    <link rel="stylesheet" href="css/styles.css">
    <style>
        /* ========================================
           DISE√ëO PREMIUM CARRUSEL SWIPER
           ======================================== */
        
        /* ========== SECCI√ìN CARRUSEL ========== */
        .carousel-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 4rem 0 !important;
            position: relative;
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .carousel-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(57, 169, 0, 0.1) 0%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            animation: float 6s ease-in-out infinite;
        }

        .carousel-section::after {
            content: '';
            position: absolute;
            bottom: -30%;
            left: -5%;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(0, 48, 77, 0.08) 0%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-20px);
            }
        }

        /* ========== T√çTULO MEJORADO ========== */
        .carousel-section h2 {
            position: relative;
            display: inline-block;
            padding-bottom: 15px;
            margin-bottom: 3rem !important;
        }

        .carousel-section h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(90deg, #39A900, #5FBE00);
            border-radius: 2px;
        }

        /* ========== SWIPER CONTAINER ========== */
        .swiper-destacadas {
            max-width: 900px;
            margin: 0 auto;
            padding: 30px 60px 50px;
            position: relative;
            z-index: 1;
        }

        /* ========== SLIDES ========== */
        .swiper-destacadas .swiper-slide {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 
                0 10px 40px rgba(0, 0, 0, 0.1),
                0 0 0 1px rgba(0, 0, 0, 0.05);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform: scale(0.95);
            opacity: 0.7;
            position: relative;
        }

        .swiper-destacadas .swiper-slide-active {
            transform: scale(1);
            opacity: 1;
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.15),
                0 0 0 1px rgba(57, 169, 0, 0.1);
        }

        /* ========== EFECTO HOVER EN SLIDE ========== */
        .swiper-destacadas .swiper-slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(57, 169, 0, 0) 0%, rgba(57, 169, 0, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 1;
        }

        .swiper-destacadas .swiper-slide:hover::before {
            opacity: 1;
        }

        /* ========== IMAGEN ========== */
        .swiper-destacadas img {
            width: 100%;
            height: 320px;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .swiper-destacadas .swiper-slide:hover img {
            transform: scale(1.08);
        }

        /* ========== CONTENIDO ========== */
        .swiper-destacadas .card-body {
            padding: 2rem;
            background: white;
            position: relative;
            z-index: 2;
        }

        .swiper-destacadas .card-body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 2rem;
            right: 2rem;
            height: 3px;
            background: linear-gradient(90deg, 
                #39A900 0%, 
                #5FBE00 50%, 
                transparent 100%);
        }

        /* ========== BADGES ========== */
        .swiper-destacadas .badge {
            font-size: 0.75rem;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            box-shadow: 0 2px 8px rgba(57, 169, 0, 0.25);
            background: linear-gradient(135deg, #39A900 0%, #007832 100%);
        }

        /* ========== FECHA ========== */
        .swiper-destacadas .text-muted {
            font-size: 0.85rem;
            font-weight: 500;
            color: #6c757d !important;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .swiper-destacadas .text-muted::before {
            content: 'üìÖ';
            font-size: 1rem;
        }

        /* ========== T√çTULO ========== */
        .swiper-destacadas .card-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #00304D;
            line-height: 1.4;
            font-family: 'Montserrat', sans-serif;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        /* ========== DESCRIPCI√ìN ========== */
        .swiper-destacadas .card-text {
            font-size: 0.95rem;
            line-height: 1.7;
            color: #495057;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        /* ========== BOTONES DE NAVEGACI√ìN ========== */
        .swiper-button-next,
        .swiper-button-prev {
            width: 50px !important;
            height: 50px !important;
            background: white !important;
            border-radius: 50%;
            box-shadow: 
                0 4px 15px rgba(0, 0, 0, 0.15),
                0 0 0 1px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .swiper-button-next::after,
        .swiper-button-prev::after {
            font-size: 22px !important;
            font-weight: 900;
            color: #39A900;
        }

        .swiper-button-next:hover,
        .swiper-button-prev:hover {
            background: #39A900 !important;
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(57, 169, 0, 0.4);
        }

        .swiper-button-next:hover::after,
        .swiper-button-prev:hover::after {
            color: white;
        }

        /* ========== PAGINACI√ìN ========== */
        .swiper-pagination {
            bottom: 15px !important;
        }

        .swiper-pagination-bullet {
            width: 12px !important;
            height: 12px !important;
            background: #39A900 !important;
            opacity: 0.3 !important;
            transition: all 0.3s ease;
        }

        .swiper-pagination-bullet-active {
            opacity: 1 !important;
            width: 30px !important;
            border-radius: 6px !important;
            background: linear-gradient(90deg, #39A900, #007832) !important;
        }

        /* ========== GRID NOTICIAS ========== */
        .noticias-grid-section {
            margin-top: 3rem;
            padding-top: 3rem;
            position: relative;
        }

        .noticias-grid-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 3px;
            background: linear-gradient(90deg, transparent, #39A900, transparent);
        }

        /* ========== RESPONSIVE ========== */
        @media (max-width: 768px) {
            .carousel-section {
                padding: 3rem 0 !important;
            }

            .carousel-section::before,
            .carousel-section::after {
                width: 300px;
                height: 300px;
            }

            .swiper-destacadas {
                padding: 20px 40px 40px;
            }

            .swiper-destacadas img {
                height: 220px;
            }

            .swiper-destacadas .card-body {
                padding: 1.5rem;
            }

            .swiper-destacadas .card-title {
                font-size: 1.15rem;
            }

            .swiper-destacadas .card-text {
                font-size: 0.9rem;
            }

            .swiper-button-next,
            .swiper-button-prev {
                width: 40px !important;
                height: 40px !important;
            }

            .swiper-button-next::after,
            .swiper-button-prev::after {
                font-size: 18px !important;
            }
        }

        @media (max-width: 576px) {
            .carousel-section {
                padding: 2rem 0 !important;
            }

            .swiper-destacadas {
                padding: 15px 30px 35px;
            }

            .swiper-destacadas img {
                height: 180px;
            }

            .swiper-destacadas .card-body {
                padding: 1.2rem;
            }

            .swiper-destacadas .card-title {
                font-size: 1rem;
            }

            .swiper-destacadas .card-text {
                font-size: 0.85rem;
            }

            .swiper-button-next,
            .swiper-button-prev {
                width: 35px !important;
                height: 35px !important;
            }

            .swiper-button-next::after,
            .swiper-button-prev::after {
                font-size: 16px !important;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-ceai-dark sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="index.html">
                <span style="color: var(--ceai-verde);">CEAI</span> SENA
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active" href="index.html">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link" href="innovacion.html">√Årea de Innovaci√≥n</a></li>
                    <li class="nav-item"><a class="nav-link" href="grupo-investigacion.html">Grupo de Investigaci√≥n</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="semillerosDropdown" role="button" data-bs-toggle="dropdown">Semilleros</a>
                        <ul class="dropdown-menu" aria-labelledby="semillerosDropdown">
                            <li><a class="dropdown-item" href="semilleros.html">üìö Ver todos los semilleros</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><h6 class="dropdown-header">Por categor√≠a:</h6></li>
                            <li><a class="dropdown-item" href="semillero-detalle.html?categoria=Soluciones%20Digitales">üíª Soluciones Digitales</a></li>
                            <li><a class="dropdown-item" href="semillero-detalle.html?categoria=Automatizaci%C3%B3n%20e%20Instrumentaci%C3%B3n">ü§ñ Automatizaci√≥n e Instrumentaci√≥n</a></li>
                            <li><a class="dropdown-item" href="semillero-detalle.html?categoria=F%C3%A1brica%20Digital%20Interactiva">üè≠ F√°brica Digital Interactiva</a></li>
                            <li><a class="dropdown-item" href="semillero-detalle.html?categoria=Gesti%C3%B3n%20Energ%C3%A9tica">‚ö° Gesti√≥n Energ√©tica</a></li>
                            <li><a class="dropdown-item" href="semillero-detalle.html?categoria=IA%20Aplicada%20al%20Entorno">üß† IA Aplicada al Entorno</a></li>
                        </ul>   
                    </li>
                    <li class="nav-item"><a class="nav-link" href="servicios.html">Servicios</a></li>
                    <li class="nav-item"><a class="nav-link" href="aliados.html">Aliados</a></li>
                    <li class="nav-item"><a class="nav-link" href="contacto.html">Contacto</a></li>
                </ul>
            </div>
        </div>
    </nav>


    <section class="hero-section text-white py-5" style="background: linear-gradient(135deg, var(--ceai-azul) 0%, var(--ceai-verde-oscuro) 100%);">
        <div class="container py-5">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <h1 class="display-4 fw-bold mb-3">Bienvenido al CEAI</h1>
                    <p class="lead mb-4">√Årea de Innovaci√≥n y Competitividad - SENA Regional Valle</p>
                    <p class="fs-5">Transformando ideas en soluciones tecnol√≥gicas para el ecosistema formativo y productivo.</p>
                    <a href="contacto.html" class="btn btn-ceai btn-lg mt-3">Cont√°ctanos</a>
                </div>
                <div class="col-lg-4 text-center d-none d-lg-block">
                    <div style="font-size: 120px; color: var(--ceai-verde);">üöÄ</div>
                </div>
            </div>
        </div>
    </section>


    <!-- ‚úÖ CARRUSEL CON DISE√ëO PREMIUM -->
    <section class="py-5 carousel-section" id="seccionCarrusel" style="display: none;">
        <div class="container">
            <h2 class="mb-4 text-center" style="color: var(--ceai-azul); font-weight: 700;">üåü Noticias Destacadas</h2>
            
            <div class="swiper swiper-destacadas">
                <div class="swiper-wrapper" id="swiperNoticiasWrapper"></div>
                
                <!-- Botones de navegaci√≥n -->
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
                
                <!-- Paginaci√≥n -->
                <div class="swiper-pagination"></div>
            </div>
        </div>
    </section>


    <section class="py-5 noticias-grid-section">
        <div class="container">
            <h2 class="mb-4 text-center" style="color: var(--ceai-azul); font-weight: 700;">üì∞ √öltimas Noticias y Eventos</h2>
            <div class="row" id="noticiasContainer"></div>
        </div>
    </section>


    <section class="py-5" style="background-color: #f8f9fa;">
        <div class="container">
            <h2 class="mb-4 text-center" style="color: var(--ceai-azul); font-weight: 700;">üå± Nuestros Semilleros de Investigaci√≥n</h2>
            <div class="row" id="semillerosContainer"></div>
            <div class="text-center mt-4">
                <a href="semilleros.html" class="btn btn-outline-primary btn-lg">Ver todos los semilleros</a>
            </div>
        </div>
    </section>


    <footer class="bg-ceai-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <h5 style="color: var(--ceai-verde);">CEAI SENA</h5>
                    <p class="small">√Årea de Innovaci√≥n y Competitividad - Regional Valle</p>
                </div>
                <div class="col-md-4 mb-3">
                    <h6>Enlaces R√°pidos</h6>
                    <ul class="list-unstyled small">
                        <li><a href="index.html" class="text-white-50 text-decoration-none">Inicio</a></li>
                        <li><a href="contacto.html" class="text-white-50 text-decoration-none">Contacto</a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none">Pol√≠tica de Privacidad</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-3">
                    <h6>Enlaces Externos</h6>
                    <ul class="list-unstyled small">
                        <li><a href="https://www.sena.edu.co" target="_blank" class="text-white-50 text-decoration-none">SENA Colombia</a></li>
                        <li><a href="https://www.sena.edu.co/es-co/" target="_blank" class="text-white-50 text-decoration-none">Regional Valle</a></li>
                    </ul>
                </div>
            </div>
            <hr class="border-secondary">
            <p class="text-center small mb-0">&copy; 2026 CEAI SENA Regional Valle. Todos los derechos reservados.</p>
        </div>
    </footer>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- ‚úÖ SWIPER JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>


    <script>
        const API = 'https://ceai-web-production.up.railway.app';
        let swiperInstance = null;


        async function cargarNoticiasHome() {
            try {
                console.log('üîç Cargando noticias...');
                const res = await fetch(API + '/api/noticias');
                const allNoticias = await res.json();
                
                const destacadas = allNoticias.filter(n => n.destacada == 1);
                console.log('‚≠ê Destacadas encontradas:', destacadas.length);


                if (destacadas.length > 0) {
                    document.getElementById('seccionCarrusel').style.display = 'block';
                    cargarSwiperNoticias(destacadas);
                } else {
                    console.log('‚ö†Ô∏è No hay noticias destacadas');
                }


                cargarGrid(allNoticias);
            } catch (err) {
                console.error('‚ùå Error cargando noticias:', err);
            }
        }


        function cargarSwiperNoticias(noticias) {
            console.log('üé† Inicializando Swiper con', noticias.length, 'slides');
            
            const wrapper = document.getElementById('swiperNoticiasWrapper');
            let html = '';


            noticias.forEach(function(n) {
                const imagen = n.imagen || 'img/placeholder-noticia.jpg';
                const tipo = n.tipo || 'Noticia';
                const desc = (n.descripcion || '').substring(0, 150);
                const fecha = n.fecha || '';


                html += '<div class="swiper-slide">'
                    + '  <img src="' + imagen + '" alt="' + n.titulo + '">'
                    + '  <div class="card-body">'
                    + '    <div class="d-flex justify-content-between align-items-center mb-3">'
                    + '      <span class="badge bg-success">' + tipo + '</span>'
                    + '      <small class="text-muted">' + fecha + '</small>'
                    + '    </div>'
                    + '    <h5 class="card-title">' + n.titulo + '</h5>'
                    + '    <p class="card-text text-muted">' + desc + '...</p>'
                    + '  </div>'
                    + '</div>';
            });


            wrapper.innerHTML = html;


            // ‚úÖ Inicializar Swiper despu√©s de cargar el HTML
            setTimeout(function() {
                if (swiperInstance) {
                    swiperInstance.destroy(true, true);
                }


                swiperInstance = new Swiper('.swiper-destacadas', {
                    slidesPerView: 1,
                    spaceBetween: 30,
                    loop: true,
                    autoplay: {
                        delay: 4000,
                        disableOnInteraction: false,
                    },
                    pagination: {
                        el: '.swiper-pagination',
                        clickable: true,
                    },
                    navigation: {
                        nextEl: '.swiper-button-next',
                        prevEl: '.swiper-button-prev',
                    },
                });


                console.log('‚úÖ Swiper inicializado correctamente');
            }, 100);
        }


        function cargarGrid(noticias) {
            const container = document.getElementById('noticiasContainer');
            let html = '';


            const mostrar = noticias.slice(0, 6);


            mostrar.forEach(function(n) {
                const imagen = n.imagen || 'img/placeholder-noticia.jpg';
                const tipo = n.tipo || 'Noticia';
                const badgeClass = tipo === 'Evento' ? 'bg-info' : tipo === 'Convocatoria' ? 'bg-warning text-dark' : 'bg-secondary';


                html += '<div class="col-md-4 mb-4">'
                    + '  <div class="card h-100 shadow-sm">'
                    + '    <img src="' + imagen + '" class="card-img-top" style="height:200px;object-fit:cover;" alt="' + n.titulo + '">'
                    + '    <div class="card-body">'
                    + '      <span class="badge ' + badgeClass + ' mb-2">' + tipo + '</span>'
                    + '      <h5 class="card-title">' + n.titulo + '</h5>'
                    + '      <p class="card-text text-muted">' + (n.descripcion || '').substring(0, 100) + '...</p>'
                    + '    </div>'
                    + '  </div>'
                    + '</div>';
            });


            container.innerHTML = html;
        }


        async function cargarSemillerosInicio() {
            try {
                const res = await fetch(API + '/api/semilleros');
                const semilleros = await res.json();
                const container = document.getElementById('semillerosContainer');
                let html = '';


                const mostrar = semilleros.slice(0, 3);


                mostrar.forEach(function(s) {
                    html += '<div class="col-md-4 mb-4">'
                        + '  <div class="card h-100 shadow-sm">'
                        + '    <img src="' + (s.imagen || 'img/placeholder.jpg') + '" class="card-img-top" style="height:200px;object-fit:cover;" alt="' + s.nombre + '">'
                        + '    <div class="card-body">'
                        + '      <h5 class="card-title">' + s.nombre + '</h5>'
                        + '      <p class="card-text text-muted small">' + (s.linea || '') + '</p>'
                        + '      <a href="semillero-detalle.html?id=' + s.id + '" class="btn btn-ceai btn-sm w-100">Ver semillero</a>'
                        + '    </div>'
                        + '  </div>'
                        + '</div>';
                });


                container.innerHTML = html;
            } catch (err) {
                console.error('‚ùå Error cargando semilleros:', err);
            }
        }


        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ P√°gina cargada');
            cargarNoticiasHome();
            cargarSemillerosInicio();
        });
    </script>


    <script src="js/navbar.js"></script>
</body>
</html>
